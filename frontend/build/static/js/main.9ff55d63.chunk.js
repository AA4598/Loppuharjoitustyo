(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{116:function(e,t,r){},200:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(25),s=r.n(c),u=(r(116),r(10)),i=r.n(u),o=r(13),l=r(11),j=r(211),b=(r(85),r(32)),d=r.n(b);r(94).config();var h="/api/user/";console.log(h);var O={login:function(){var e=Object(o.a)(i.a.mark((function e(t){var r,a,n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post(h+"login",t);case 3:return r=e.sent,a={code:r.status,data:r.data},e.abrupt("return",a);case 8:if(e.prev=8,e.t0=e.catch(0),void 0===(n=e.t0.response)){e.next=16;break}return c={code:n.status,message:n.data.error},e.abrupt("return",c);case 16:return e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),register:function(){var e=Object(o.a)(i.a.mark((function e(t){var r,a,n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,d.a.post(h+"register",t);case 5:return r=e.sent,a={code:r.status,message:r.data.message},e.abrupt("return",a);case 10:return e.prev=10,e.t0=e.catch(2),n=e.t0.response,c={code:n.status,message:n.data.error},e.abrupt("return",c);case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()};r(94).config();var p="/api/data/";console.log(p);var x=function(){var e=Object(o.a)(i.a.mark((function e(t){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/data/results/"+t);case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),void 0===(r=e.t0.response)){e.next=14;break}return a={code:r.status,message:r.data.error},e.abrupt("return",a);case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(o.a)(i.a.mark((function e(t,r){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get(p,r);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),a={code:503,message:e.t0.message},e.abrupt("return",a);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r){return e.apply(this,arguments)}}(),m=function(){var e=Object(o.a)(i.a.mark((function e(t,r){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.delete(p+t,r);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),a={code:503,message:e.t0.message},e.abrupt("return",a);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r){return e.apply(this,arguments)}}(),v=function(){var e=Object(o.a)(i.a.mark((function e(t,r){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put(p+t._id,t,r);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),a={code:503,message:e.t0.message},e.abrupt("return",a);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r){return e.apply(this,arguments)}}(),g={addItem:function(){var e=Object(o.a)(i.a.mark((function e(t,r){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post(p,t,r);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),a={code:503,message:e.t0.message},e.abrupt("return",a);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r){return e.apply(this,arguments)}}(),deleteItem:m,getMyData:f,updateItem:v,getSummaryData:x},k=r(39),y=r(16),w=r(218),S=r(214),C=r(220),F=r(46),N=r(215),E=r.p+"static/media/logo.274dca88.svg",B=r(1),D=function(){return Object(B.jsxs)("div",{children:[Object(B.jsxs)("div",{style:{paddingLeft:"10px",paddingTop:"10px"},children:[Object(B.jsx)("h1",{children:"TREENIP\xc4IV\xc4KIRJA"}),Object(B.jsx)("h6",{children:"\xa9AA4598"})]}),Object(B.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(B.jsx)("img",{src:E,width:"30%",style:{fill:"blue"},alt:""})})]})},I=r(219),P=function(e){var t=e.show,r=e.close,a=e.params,n={backgroundColor:a.style.backgroundcolor,color:a.style.color,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"};return Object(B.jsxs)("div",{children:[a.autohide&&Object(B.jsxs)(I.a,{style:n,onClose:function(){return r()},show:t,delay:a.delay,autohide:!0,children:[Object(B.jsx)(I.a.Header,{style:{backgroundColor:"black",color:"white"},children:Object(B.jsx)("strong",{className:"mr-auto",children:a.header})}),Object(B.jsx)(I.a.Body,{children:a.message})]}),!a.autohide&&Object(B.jsxs)(I.a,{style:n,onClose:function(){return r()},show:t,children:[Object(B.jsx)(I.a.Header,{children:Object(B.jsx)("strong",{className:"mr-auto",children:a.header})}),Object(B.jsx)(I.a.Body,{children:a.message})]})]})},L=function(e){var t=e.item,r=new Date(t.date),a=[function(){var e=(r.getMonth()+1).toString(),t=r.getDate().toString(),a=r.getFullYear().toString();return e.length<2&&(e="0"+e),t.length<2&&(t="0"+t),e+"/"+t+"/"+a}(),t.repeats,t.users];return Object(B.jsx)("tbody",{children:Object(B.jsx)("tr",{children:a.map((function(e,t){return Object(B.jsxs)("td",{children:[" ",e," "]},t)}))})})},_=r(206),A=(r(97),function(e){var t=e.data,r=e.header,a=function(e){var t=e.header;e.func;return Object(B.jsx)("tbody",{children:Object(B.jsx)("tr",{children:t.map((function(e,t){return Object(B.jsx)("th",{children:e},t)}))})})};return Object(B.jsx)("div",{className:"overflow-auto form",style:{maxHeight:"600px"},children:Object(B.jsxs)(_.a,{className:"table table-sm table-primary",width:"60%",responsive:"sm",children:[t.length>0&&Object(B.jsx)(a,{header:r}),t.length>0&&t.map((function(e,t){return Object(B.jsx)(L,{item:e},t)}))]})})}),R=function(e){var t=e.callBack,r=Object(a.useState)([]),n=Object(l.a)(r,2),c=n[0],s=n[1],u=Object(a.useState)(!1),j=Object(l.a)(u,2),b=j[0],d=j[1],h=Object(a.useState)({header:"",message:"",autohide:!1,delay:0,style:{backgroundcolor:"#00FF00",color:"blue"}}),O=Object(l.a)(h,2),p=O[0],x=O[1],f=Object(a.useCallback)(Object(o.a)(i.a.mark((function e(){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){x({header:"Error",message:"Ei yhteytt\xe4 backendiin",autohide:!0,delay:2e3,style:{backgroundcolor:"#00FF00",color:"blue"}}),d(!0)},e.next=3,t("getSummaryData","amateurs/");case 3:null===(a=e.sent)?r():s(a);case 5:case"end":return e.stop()}}),e)}))),[t]);return Object(a.useEffect)((function(){f()}),[f]),Object(B.jsxs)("div",{className:"container-fluid",children:[Object(B.jsx)("div",{className:"row",children:Object(B.jsx)("h2",{className:"col",children:"Harrastajien suoritukset"})}),Object(B.jsx)(A,{data:c,header:["Pvm","Suoritukset yht.","Suorittaja lkm"]}),Object(B.jsx)(P,{show:b,close:function(){d(!1)},params:p})]})},H=function(e){var t=e.callBack,r=e.user,n=Object(a.useState)([]),c=Object(l.a)(n,2),s=c[0],u=c[1],j=Object(a.useState)(!1),b=Object(l.a)(j,2),d=b[0],h=b[1],O=Object(a.useState)({header:"",message:"",autohide:!1,delay:0,style:{backgroundcolor:"#00FF00",color:"blue"}}),p=Object(l.a)(O,2),x=p[0],f=p[1],m=Object(a.useCallback)(Object(o.a)(i.a.mark((function e(){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){f({header:"Error",message:"Ei yhteytt\xe4 backendiin",autohide:!0,delay:2e3,style:{backgroundcolor:"#00FF00",color:"blue"}}),h(!0)},e.next=3,t("getSummaryData","professionals/");case 3:null===(a=e.sent)?r():u(a);case 5:case"end":return e.stop()}}),e)}))),[t]);return Object(a.useEffect)((function(){m()}),[m,r]),Object(B.jsxs)("div",{className:"container-fluid",children:[Object(B.jsx)("div",{className:"row",children:Object(B.jsx)("h2",{className:"col",children:"Ammattilaisten suoritukset"})}),Object(B.jsx)(A,{data:s,header:["Pvm","Suoritukset yht.","Suorittaja lkm"]}),Object(B.jsx)(P,{show:d,close:function(){h(!1)},params:x})]})},T=r(217),q=r(207),M=r(208),G=r(209),K=r(210),V=r(108),J=r.n(V),z=(r(143),function(e){var t=e.mode,r=e.item,n=e.func,c=Object(a.useState)(["Hauis","Olkap\xe4\xe4t","Ojentajat","Penkki"]),s=Object(l.a)(c,1)[0],u=Object(a.useState)(""),i=Object(l.a)(u,2),o=i[0],j=i[1],b=Object(a.useState)(new Date),d=Object(l.a)(b,2),h=d[0],O=d[1],p=Object(a.useState)(s[0]),x=Object(l.a)(p,2),f=x[0],m=x[1],v=Object(a.useState)(0),g=Object(l.a)(v,2),k=g[0],y=g[1],w=Object(a.useState)(0),S=Object(l.a)(w,2),F=S[0],N=S[1];Object(a.useEffect)((function(){0!==t?(j(r._id),O(new Date(r.date)),m(r.type),y(r.repeat),N(r.weight)):(j(null),O(new Date),m(s[0]),y(""),N(""))}),[t,r._id,r.date,r.type,r.repeat,r.weight,s]);var E=function(e,t){n(e,t)};if(2===t){var D=[function(){var e=(h.getMonth()+1).toString(),t=h.getDate().toString(),r=h.getFullYear().toString();return e.length<2&&(e="0"+e),t.length<2&&(t="0"+t),e+"/"+t+"/"+r}(),f,k,F];return Object(B.jsx)("tbody",{children:Object(B.jsxs)("tr",{children:[D.map((function(e,t){return Object(B.jsxs)("td",{children:[" ",e," "]},t)})),Object(B.jsxs)("td",{style:{textAlign:"right"},children:[Object(B.jsx)(C.a,{className:"btn btn-success btn-sm",id:r._id,onClick:function(e){E(3,e.target.id)},children:Object(B.jsx)(q.a,{id:r._id})}),Object(B.jsx)(C.a,{className:"btn btn-secondary btn-sm",style:{marginLeft:"5px"},id:r._id,onClick:function(e){E(1,e.target.id)},children:Object(B.jsx)(M.a,{id:r._id})})]})]})})}return Object(B.jsx)("tbody",{children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:Object(B.jsx)(J.a,{type:"date",className:"form-control",id:"dp",onChangeRaw:function(e){e.preventDefault()},required:!0,selected:h,onChange:function(e){return O(e)}})}),Object(B.jsx)("td",{children:Object(B.jsx)(T.a.Control,{as:"select",id:"type",custom:!0,value:f,onChange:function(e){var t=e.target;m(t.value)},children:s.map((function(e,t){return Object(B.jsxs)("option",{value:e,children:[" ",e]},t)}))})}),Object(B.jsx)("td",{children:Object(B.jsx)("input",{className:"form-control",id:"repeat",type:"Number",required:!0,value:k,onChange:function(e){var t=e.target;return y(t.value)}})}),Object(B.jsx)("td",{children:Object(B.jsx)("input",{className:"form-control",id:"weight",type:"Number",required:!0,value:F,onChange:function(e){var t=e.target;return N(t.value)}})}),Object(B.jsx)("td",{children:Object(B.jsx)(C.a,{type:"submit",className:"btn btn-primary",id:o,onClick:function(e){!function(e,r){if(""!==h&&""!==f&&""!==k&&""!==F){e.preventDefault(),n(0===t?5:6,{_id:o,date:h,type:f,repeat:k,weight:F})}}(e,e.target.id)},children:Object(B.jsx)(G.a,{id:o})})}),Object(B.jsx)("td",{children:Object(B.jsx)(C.a,{className:"btn btn-secondary",id:r._id,onClick:function(e){E(2,e.target.id)},children:Object(B.jsx)(K.a,{id:r._id})})})]})})}),Y=function(e){var t=e.mode,r=e.data,a=e.header,n=e.func,c=function(e){var t=e.header;return Object(B.jsx)("tbody",{children:Object(B.jsx)("tr",{children:t.map((function(e,t){return Object(B.jsx)("th",{children:e},t)}))})})};return Object(B.jsx)(T.a,{className:"overflow-auto form",style:{maxHeight:"587px"},autoComplete:"off",children:Object(B.jsxs)(_.a,{className:"table table-sm table-primary",responsive:"sm",children:[r.length>0&&Object(B.jsx)(c,{header:a}),r.length>0&&r.map((function(e){return Object(B.jsx)(z,{mode:t,item:e,func:n},e._id)}))]})})},U=r(212),Q=r(111),W=r(213),X=function(e){var t=e.callBack,r=(e.user,Object(a.useState)(2)),n=Object(l.a)(r,2),c=n[0],s=n[1],u=Object(a.useState)([]),b=Object(l.a)(u,2),d=b[0],h=b[1],O=Object(a.useState)([]),p=Object(l.a)(O,2),x=p[0],f=p[1],m=Object(a.useState)(!1),v=Object(l.a)(m,2),g=v[0],k=v[1],y=Object(a.useState)({header:"",message:"",autohide:!1,delay:0,style:{backgroundcolor:"#00FF00",color:"blue"}}),w=Object(l.a)(y,2),S=w[0],F=w[1],N=Object(a.useCallback)(Object(o.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("getMyData");case 2:r=e.sent,h(r),f(r),s(2);case 6:case"end":return e.stop()}}),e)}))),[t]);Object(a.useEffect)((function(){N()}),[N]);var E=function(e,t,r,a,n){F({header:e,message:t,autohide:!0,delay:r,closeParent:!1,style:{backgroundcolor:a,color:n}}),k(!0)},D=function(){var e=Object(o.a)(i.a.mark((function e(r,a){var n,u,o,l,j;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("############ mode= "+c),0!==r){e.next=8;break}(n=[])[0]={id:null,date:new Date,type:"Hauis",repeat:0,weight:0},f([n]),s(r),e.next=46;break;case 8:if(1!==r){e.next=15;break}return e.next=11,t("deleteItem",a);case 11:E("Poistaminen","Tiedon poistaminen onnistui",3e3,"#79BEA8","#000000"),N(),e.next=46;break;case 15:if(3!==r){e.next=21;break}u=d.find((function(e){return e._id===a})),f([u]),s(r),e.next=46;break;case 21:if(2!==r){e.next=26;break}f(d),s(r),e.next=46;break;case 26:if(5!==r){e.next=40;break}return o=a,e.prev=28,e.next=31,t("addItem",o);case 31:503===(l=e.sent).code?E("Virhetilanne",l.message,3e3,"#FF9999","#000000"):(E("Lis\xe4\xe4minen","Tiedon lis\xe4\xe4minen onnistui",3e3,"#79BEA8","#000000"),N()),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(28),E("Virhetilanne",e.t0.message,3e3,"#FF9999","#000000");case 38:e.next=46;break;case 40:if(6!==r){e.next=46;break}return j=a,e.next=44,t("updateItem",j);case 44:E("P\xe4ivitys","Tiedon p\xe4ivitt\xe4minen onnistui",3e3,"#79BEA8","#000000"),N();case 46:case"end":return e.stop()}}),e,null,[[28,35]])})));return function(t,r){return e.apply(this,arguments)}}();return Object(B.jsxs)(j.a,{children:[Object(B.jsxs)(U.a,{children:[Object(B.jsx)(Q.a,{children:Object(B.jsx)("h2",{children:"Omat suoritukset"})}),2===c&&Object(B.jsx)(Q.a,{children:Object(B.jsx)(C.a,{className:"float-right mt-1 btn btn-primary btn-sm>",onClick:function(){D(0,null)},children:Object(B.jsx)(W.a,{width:"20",height:"20"})})})]}),Object(B.jsx)(Y,{mode:c,data:x,header:["Pvm","Laji","Suorituskerrat","Paino"],func:D}),Object(B.jsx)(P,{show:g,close:function(){k(!1)},params:S})]})},Z=function(e){var t=e.user,r=e.callBack;return Object(B.jsxs)(k.BrowserRouter,{children:[Object(B.jsxs)(w.a,{bg:"primary",variant:"dark",children:[Object(B.jsx)(w.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(B.jsx)(F.LinkContainer,{to:"/",exact:!0,children:Object(B.jsx)(S.a,{className:"mr-auto",children:Object(B.jsx)(C.a,{variant:"success",children:Object(B.jsx)(N.a,{color:"white",size:22})})})}),Object(B.jsx)(F.LinkContainer,{to:"/AmResults",exact:!0,children:Object(B.jsx)(S.a,{children:Object(B.jsx)(C.a,{children:"Harrastajat"})})}),t&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(F.LinkContainer,{to:"/ProResults",exact:!0,children:Object(B.jsx)(S.a,{className:"mr-auto",children:Object(B.jsx)(C.a,{children:"Ammattiaiset"})})}),Object(B.jsx)(F.LinkContainer,{to:"/MyTrainings",exact:!0,children:Object(B.jsx)(S.a,{children:Object(B.jsx)(C.a,{children:"Omat treenit"})})}),Object(B.jsx)("div",{className:"ml-auto",style:{paddingRight:"15px"},children:"Kirjautunut: "+t}),Object(B.jsx)(F.LinkContainer,{to:"/",exact:!0,children:Object(B.jsx)(S.a,{children:Object(B.jsx)(C.a,{variant:"dark",onClick:function(){r("logout")},children:"Logout"})})})]}),!t&&Object(B.jsx)(S.a,{className:"ml-auto",children:Object(B.jsx)(C.a,{variant:"info",onClick:function(){r("login")},children:"Login"})})]}),Object(B.jsxs)(y.g,{children:[Object(B.jsx)(y.d,{path:"/AmResults",children:Object(B.jsx)(R,{callBack:r})}),Object(B.jsx)(y.d,{path:"/ProResults",children:t?Object(B.jsx)(H,{callBack:r,user:t}):Object(B.jsx)(y.c,{to:"/"})}),Object(B.jsx)(y.d,{path:"/MyTrainings",children:t?Object(B.jsx)(X,{callBack:r,user:t}):Object(B.jsx)(y.c,{to:"/"})}),Object(B.jsx)(y.d,{path:"/",children:Object(B.jsx)(D,{})}),Object(B.jsx)(y.c,{to:"/"})]})]})},$=r(216),ee=function(e){var t=e.show,r=e.close,n=e.func,c=Object(a.useState)(""),s=Object(l.a)(c,2),u=s[0],j=s[1],b=Object(a.useState)(""),d=Object(l.a)(b,2),h=d[0],O=d[1],p=Object(a.useState)(""),x=Object(l.a)(p,2),f=x[0],m=x[1],v=Object(a.useState)(""),g=Object(l.a)(v,2),k=g[0],y=g[1],w=Object(a.useState)(!1),S=Object(l.a)(w,2),F=S[0],N=S[1],E=Object(a.useState)(!1),D=Object(l.a)(E,2),I=D[0],L=D[1],_=Object(a.useState)({header:"",message:"",autohide:!0,delay:0,style:{backgroundcolor:"#00FF00",color:"blue"}}),A=Object(l.a)(_,2),R=A[0],H=A[1],q=function(){var e=Object(o.a)(i.a.mark((function e(t){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return r={firstname:u,lastname:h,email:f,password:k,pro:F},e.next=4,n(2,r);case 4:200!==(a=e.sent).code?H({header:"Virhe",message:a.message,closeParent:!1,autohide:!0,style:{backgroundcolor:"#00FF00",color:"blue"}}):200===a.code&&H({header:"Rekister\xf6inti onnistui",message:a.message,closeParent:!0,autohide:!0,style:{backgroundcolor:"#00FF00",color:"blue"}}),M(),L(!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){j(""),O(""),m(""),y(""),N(!1)};return t?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)(T.a,{onSubmit:function(e){e.preventDefault(),q(!0)},children:[Object(B.jsxs)($.a.Body,{children:[Object(B.jsxs)(T.a.Group,{children:[Object(B.jsx)(T.a.Label,{children:"Etunimi"}),Object(B.jsx)(T.a.Control,{type:"input",placeholder:"Etunimi",value:u,onChange:function(e){var t=e.target;return j(t.value)},required:!0})]}),Object(B.jsxs)(T.a.Group,{children:[Object(B.jsx)(T.a.Label,{children:"Sukunimi"}),Object(B.jsx)(T.a.Control,{type:"input",placeholder:"Sukunimi",value:h,onChange:function(e){var t=e.target;return O(t.value)},required:!0})]}),Object(B.jsxs)(T.a.Group,{children:[Object(B.jsx)(T.a.Label,{children:"Email"}),Object(B.jsx)(T.a.Control,{type:"email",placeholder:"email",value:f,onChange:function(e){var t=e.target;return m(t.value)},required:!0})]}),Object(B.jsxs)(T.a.Group,{children:[Object(B.jsx)(T.a.Label,{children:"Salasana"}),Object(B.jsx)(T.a.Control,{type:"password",placeholder:"Salasana",value:k,onChange:function(e){var t=e.target;return y(t.value)},required:!0})]}),Object(B.jsx)(T.a.Group,{controlId:"formBasicCheckbox",children:Object(B.jsx)(T.a.Check,{type:"checkbox",label:"Ammattilainen",onChange:function(e){var t=e.target;return j(t.value)}})})]}),Object(B.jsxs)($.a.Footer,{children:[Object(B.jsx)(C.a,{variant:"secondary",onClick:function(){r(!1)},children:"Sulje"}),Object(B.jsx)(C.a,{type:"Submit",variant:"primary",children:"Valmis"})]})]}),Object(B.jsx)(P,{show:I,close:function(){L(!1),R.closeParent&&r(!1)},params:R})]}):null},te=function(e){var t=e._show,r=e.showDialog,n=e.func,c=Object(a.useState)(""),s=Object(l.a)(c,2),u=s[0],j=s[1],b=Object(a.useState)(""),d=Object(l.a)(b,2),h=d[0],O=d[1],p=Object(a.useState)(!1),x=Object(l.a)(p,2),f=x[0],m=x[1],v=Object(a.useState)(!1),g=Object(l.a)(v,2),k=g[0],y=g[1],w=Object(a.useState)({title:"Kirjautuminen",btnClose:"Sulje"}),S=Object(l.a)(w,2),F=S[0],N=S[1],E=Object(a.useState)(!1),D=Object(l.a)(E,2),I=D[0],L=D[1],_=Object(a.useState)({header:"",message:"",autohide:!1,delay:0,style:{backgroundcolor:"#00FF00",color:"blue"}}),A=Object(l.a)(_,2),R=A[0],H=A[1];Object(a.useEffect)((function(){N(F),m(t),t||y(!1)}),[t,F]);var q=function(){N({title:"Rekister\xf6inti",btnClose:"Sulje"})},M=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,c,s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return a={email:u,password:h},e.next=4,n(1,a);case 4:null===(c=e.sent)||404===c.code||401===c.code?(s=null,o=!1,null===c?(o=!0,s="Ei yhteytt\xe4 backendiin"):s=c.message,H({header:"Error",message:s,autohide:!0,delay:2e3,closeParent:o,style:{backgroundcolor:"#00FF00",color:"blue"}}),L(!0)):200===c.code&&(H({header:"Kirjautuminen onnistui",message:"Tervetuloa ;)",autohide:!0,delay:2e3,closeParent:!0,style:{backgroundcolor:"#00FF00",color:"blue"}}),L(!0)),e.next=9;break;case 8:r(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(B.jsx)(B.Fragment,{children:Object(B.jsxs)($.a,{show:f,onHide:function(){},children:[Object(B.jsx)($.a.Header,{closeButton:!0,onClick:function(){M(!1)},children:Object(B.jsx)($.a.Title,{children:F.title})}),!k&&Object(B.jsx)(B.Fragment,{children:Object(B.jsxs)(T.a,{onSubmit:function(e){e.preventDefault(),M(!0)},children:[Object(B.jsxs)($.a.Body,{children:[Object(B.jsxs)(T.a.Group,{controlId:"formBasicEmail",children:[Object(B.jsx)(T.a.Label,{children:"Email"}),Object(B.jsx)(T.a.Control,{type:"email",placeholder:"Enter email",value:u,onChange:function(e){var t=e.target;return j(t.value)},required:!0})]}),Object(B.jsxs)(T.a.Group,{controlId:"formBasicPassword",children:[Object(B.jsx)(T.a.Label,{children:"Salasana"}),Object(B.jsx)(T.a.Control,{type:"password",placeholder:"Password",value:h,onChange:function(e){var t=e.target;return O(t.value)},required:!0})]})]}),Object(B.jsx)($.a.Footer,{children:Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(C.a,{variant:"warning",className:"mr-auto",onClick:function(){var e;e=!0,q(),y(e)},children:"Uusi k\xe4ytt\xe4j\xe4"}),Object(B.jsx)(C.a,{variant:"secondary",onClick:function(){M(!1)},children:F.btnClose}),Object(B.jsx)(C.a,{type:"submit",variant:"primary",children:"Kirjaudu"})]})})]})}),Object(B.jsx)(ee,{show:k,close:function(){N({title:"Kirjautuminen",btnClose:"Sulje"}),y(!1)},func:n}),Object(B.jsx)(P,{show:I,close:function(){L(!1),R.closeParent&&r(!1)},params:R})]})})},re=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),r=t[0],n=t[1],c=Object(a.useState)(""),s=Object(l.a)(c,2),u=s[0],b=s[1],d=Object(a.useState)(""),h=Object(l.a)(d,2),p=h[0],x=h[1],f=Object(a.useState)(!1),m=Object(l.a)(f,2),v=m[0],k=m[1],y=function(){var e=Object(o.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.register(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(o.a)(i.a.mark((function e(t,r,a){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==t){e.next=13;break}if(null===r){e.next=11;break}return e.next=4,O.login(r);case 4:if(null===(c=e.sent)){e.next=10;break}return 200===c.code&&(n(c.data.email),b(c.data.firstname),x(c.data.token)),e.abrupt("return",c);case 10:return e.abrupt("return",null);case 11:e.next=17;break;case 13:if(2!==t){e.next=17;break}return e.next=16,y(r);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}(),S=function(){return{headers:{Authorization:"bearer ".concat(p)}}},C=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.getMyData(t,S());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.addItem(t,S());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.deleteItem(t,S());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.updateItem(t,S());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(o.a)(i.a.mark((function e(t,a){var n,c,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("getSummaryData"!==t){e.next=7;break}return e.next=3,g.getSummaryData(a);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:if("login"!==t){e.next=11;break}k(!0),e.next=40;break;case 11:if("logout"!==t){e.next=15;break}b(""),e.next=40;break;case 15:if("addItem"!==t){e.next=22;break}return e.next=18,F(a);case 18:return c=e.sent,e.abrupt("return",c);case 22:if("deleteItem"!==t){e.next=29;break}return e.next=25,N(a);case 25:return s=e.sent,e.abrupt("return",s);case 29:if("updateItem"!==t){e.next=35;break}return e.next=32,E(a);case 32:return e.abrupt("return",e.sent);case 35:if("getMyData"!==t){e.next=40;break}return e.next=38,C(r);case 38:return u=e.sent,e.abrupt("return",u.data);case 40:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();return Object(B.jsxs)(j.a,{fluid:!0,children:[Object(B.jsx)("div",{children:Object(B.jsx)(te,{_show:v,showDialog:k,func:w})}),Object(B.jsx)(Z,{user:u,callBack:D})]})};s.a.render(Object(B.jsx)(n.a.StrictMode,{children:Object(B.jsx)(k.BrowserRouter,{children:Object(B.jsx)(re,{})})}),document.getElementById("root"))},97:function(e,t,r){}},[[200,1,2]]]);
//# sourceMappingURL=main.9ff55d63.chunk.js.map